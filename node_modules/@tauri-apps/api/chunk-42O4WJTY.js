import{e as d,f as U,g as s}from"./chunk-3WDDWFXT.js";import{a as p}from"./chunk-FEIY7W7S.js";var l={};p(l,{checkUpdate:()=>c,installUpdate:()=>f,onUpdaterEvent:()=>u});async function u(n){return d("tauri://update-status",e=>{n(e==null?void 0:e.payload)})}async function f(){let n;function e(){n&&n(),n=void 0}return new Promise((a,i)=>{function o(r){if(r.error)return e(),i(r.error);if(r.status==="DONE")return e(),a()}u(o).then(r=>{n=r}).catch(r=>{throw e(),r}),s("tauri://update-install").catch(r=>{throw e(),r})})}async function c(){let n;function e(){n&&n(),n=void 0}return new Promise((a,i)=>{function o(t){return e(),a({manifest:t,shouldUpdate:!0})}function r(t){if(t.error)return e(),i(t.error);if(t.status==="UPTODATE")return e(),a({shouldUpdate:!1})}U("tauri://update-available",t=>{o(t==null?void 0:t.payload)}).catch(t=>{throw e(),t}),u(r).then(t=>{n=t}).catch(t=>{throw e(),t}),s("tauri://update").catch(t=>{throw e(),t})})}export{u as a,f as b,c,l as d};
